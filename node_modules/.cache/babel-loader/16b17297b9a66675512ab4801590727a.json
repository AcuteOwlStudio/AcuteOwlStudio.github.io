{"ast":null,"code":"\"use strict\";\n\nvar _require = require('../helpers/constants'),\n    URI = _require.URI;\n\nvar HTTP_METHODS = require('../helpers/http_methods');\n\nvar _require2 = require('../helpers/request_handler'),\n    requestHandler = _require2.requestHandler;\n\nvar headers;\n\nvar objectTypeMethods = function objectTypeMethods(bucket_config) {\n  return {\n    getObjectTypes: function getObjectTypes(params) {\n      var endpoint = \"\".concat(URI, \"/buckets/\").concat(bucket_config.slug, \"/object-types?read_key=\").concat(bucket_config.read_key);\n      return requestHandler(HTTP_METHODS.GET, endpoint);\n    },\n    getObjectType: function getObjectType(params) {\n      var endpoint = \"\".concat(URI, \"/buckets/\").concat(bucket_config.slug, \"/object-types/\").concat(params.slug, \"?read_key=\").concat(bucket_config.read_key);\n      return requestHandler(HTTP_METHODS.GET, endpoint);\n    },\n    addObjectType: function addObjectType(params) {\n      var endpoint = \"\".concat(URI, \"/buckets/\").concat(bucket_config.slug, \"/object-types\");\n\n      if (bucket_config.write_key) {\n        headers = {\n          \"Authorization\": \"Bearer \".concat(bucket_config.write_key)\n        };\n      }\n\n      return requestHandler(HTTP_METHODS.POST, endpoint, params, headers);\n    },\n    editObjectType: function editObjectType(params) {\n      var endpoint = \"\".concat(URI, \"/buckets/\").concat(bucket_config.slug, \"/object-types/\").concat(params.slug);\n\n      if (bucket_config.write_key) {\n        headers = {\n          \"Authorization\": \"Bearer \".concat(bucket_config.write_key)\n        };\n      } // Remove slug\n\n\n      delete params.slug;\n      return requestHandler(HTTP_METHODS.PATCH, endpoint, params, headers);\n    },\n    deleteObjectType: function deleteObjectType(params) {\n      var endpoint = \"\".concat(URI, \"/buckets/\").concat(bucket_config.slug, \"/object-types/\").concat(params.slug);\n\n      if (bucket_config.write_key) {\n        headers = {\n          \"Authorization\": \"Bearer \".concat(bucket_config.write_key)\n        };\n      }\n\n      return requestHandler(HTTP_METHODS.DELETE, endpoint, null, headers);\n    }\n  };\n};\n\nmodule.exports = objectTypeMethods;","map":{"version":3,"mappings":";;eAAgBA,OAAO,CAAC,sBAAD;IAAfC,G,YAAAA;;AACR,IAAMC,YAAY,GAAGF,OAAO,CAAC,yBAAD,CAA5B;;gBAC2BA,OAAO,CAAC,4BAAD;IAA1BG,c,aAAAA;;AACR,IAAIC,OAAJ;;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,aAAD;AAAA,SAAoB;AAC5CC,kBAAc,EAAE,wBAACC,MAAD,EAAY;AAC1B,UAAIC,QAAQ,aAAMR,GAAN,sBAAqBK,aAAa,CAACI,IAAnC,oCAAiEJ,aAAa,CAACK,QAA/E,CAAZ;AACA,aAAOR,cAAc,CAACD,YAAY,CAACU,GAAd,EAAmBH,QAAnB,CAArB;AAH0C;AAK5CI,iBAAa,EAAE,uBAACL,MAAD,EAAY;AACzB,UAAIC,QAAQ,aAAMR,GAAN,sBAAqBK,aAAa,CAACI,IAAnC,2BAAwDF,MAAM,CAACE,IAA/D,uBAAgFJ,aAAa,CAACK,QAA9F,CAAZ;AACA,aAAOR,cAAc,CAACD,YAAY,CAACU,GAAd,EAAmBH,QAAnB,CAArB;AAP0C;AAS5CK,iBAAa,EAAE,uBAACN,MAAD,EAAY;AACzB,UAAMC,QAAQ,aAAMR,GAAN,sBAAqBK,aAAa,CAACI,IAAnC,kBAAd;;AACA,UAAIJ,aAAa,CAACS,SAAlB,EAA6B;AAC3BX,eAAO,GAAG;AACR,4CAA2BE,aAAa,CAACS,SAAzC;AADQ,SAAVX;AAGD;;AACD,aAAOD,cAAc,CAACD,YAAY,CAACc,IAAd,EAAoBP,QAApB,EAA8BD,MAA9B,EAAsCJ,OAAtC,CAArB;AAhB0C;AAkB5Ca,kBAAc,EAAE,wBAACT,MAAD,EAAY;AAC1B,UAAMC,QAAQ,aAAMR,GAAN,sBAAqBK,aAAa,CAACI,IAAnC,2BAAwDF,MAAM,CAACE,IAA/D,CAAd;;AACA,UAAIJ,aAAa,CAACS,SAAlB,EAA6B;AAC3BX,eAAO,GAAG;AACR,4CAA2BE,aAAa,CAACS,SAAzC;AADQ,SAAVX;AAHwB,QAO1B;;;AACA,aAAOI,MAAM,CAACE,IAAd;AACA,aAAOP,cAAc,CAACD,YAAY,CAACgB,KAAd,EAAqBT,QAArB,EAA+BD,MAA/B,EAAuCJ,OAAvC,CAArB;AA3B0C;AA6B5Ce,oBAAgB,EAAE,0BAACX,MAAD,EAAY;AAC5B,UAAMC,QAAQ,aAAMR,GAAN,sBAAqBK,aAAa,CAACI,IAAnC,2BAAwDF,MAAM,CAACE,IAA/D,CAAd;;AACA,UAAIJ,aAAa,CAACS,SAAlB,EAA6B;AAC3BX,eAAO,GAAG;AACR,4CAA2BE,aAAa,CAACS,SAAzC;AADQ,SAAVX;AAGD;;AACD,aAAOD,cAAc,CAACD,YAAY,CAACkB,MAAd,EAAsBX,QAAtB,EAAgC,IAAhC,EAAsCL,OAAtC,CAArB;AACD;AArC2C,GAApB;AAA1B;;AAwCAiB,MAAM,CAACC,OAAPD,GAAiBhB,iBAAjBgB","names":["require","URI","HTTP_METHODS","requestHandler","headers","objectTypeMethods","bucket_config","getObjectTypes","params","endpoint","slug","read_key","GET","getObjectType","addObjectType","write_key","POST","editObjectType","PATCH","deleteObjectType","DELETE","module","exports"],"sources":["D:\\Users\\Ranyo7\\Programming\\Atom\\AcuteOwlStudio\\node_modules\\cosmicjs\\src\\bucket\\object-type.js"],"sourcesContent":["const { URI } = require('../helpers/constants')\nconst HTTP_METHODS = require('../helpers/http_methods')\nconst { requestHandler } = require('../helpers/request_handler')\nlet headers;\nconst objectTypeMethods = (bucket_config) => ({\n  getObjectTypes: (params) => {\n    let endpoint = `${URI}/buckets/${bucket_config.slug}/object-types?read_key=${bucket_config.read_key}`\n    return requestHandler(HTTP_METHODS.GET, endpoint)\n  },\n  getObjectType: (params) => {\n    let endpoint = `${URI}/buckets/${bucket_config.slug}/object-types/${params.slug}?read_key=${bucket_config.read_key}`\n    return requestHandler(HTTP_METHODS.GET, endpoint)\n  },\n  addObjectType: (params) => {\n    const endpoint = `${URI}/buckets/${bucket_config.slug}/object-types`\n    if (bucket_config.write_key) {\n      headers = {\n        \"Authorization\": `Bearer ${bucket_config.write_key}`\n      }\n    }\n    return requestHandler(HTTP_METHODS.POST, endpoint, params, headers)\n  },\n  editObjectType: (params) => {\n    const endpoint = `${URI}/buckets/${bucket_config.slug}/object-types/${params.slug}`\n    if (bucket_config.write_key) {\n      headers = {\n        \"Authorization\": `Bearer ${bucket_config.write_key}`\n      }\n    }\n    // Remove slug\n    delete params.slug;\n    return requestHandler(HTTP_METHODS.PATCH, endpoint, params, headers)\n  },\n  deleteObjectType: (params) => {\n    const endpoint = `${URI}/buckets/${bucket_config.slug}/object-types/${params.slug}`\n    if (bucket_config.write_key) {\n      headers = {\n        \"Authorization\": `Bearer ${bucket_config.write_key}`\n      }\n    }\n    return requestHandler(HTTP_METHODS.DELETE, endpoint, null, headers)\n  }\n})\n\nmodule.exports = objectTypeMethods\n"]},"metadata":{},"sourceType":"script"}